"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[540],{6540:function(t,e,s){let i;s.d(e,{a:function(){return t_}});var a,r,n,h,o,l,u,c,d,_,p,f,v,b,w,y,R,g,k,m,C,O,S,W,M=s(2731),E=s(8146),x=s(5577),N=s(4831),Q=s(7920),U=s(9555),I=s(5139),T=s(4668),F=s(4614),q=s(2649),D=s(6063),P=(a=new WeakMap,r=new WeakMap,n=new WeakMap,h=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,_=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakSet,R=new WeakSet,g=new WeakSet,k=new WeakSet,m=new WeakSet,C=new WeakSet,O=new WeakSet,S=new WeakSet,W=new WeakSet,class extends F.l{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,M._)(this,r).addObserver(this),L((0,M._)(this,r),this.options)?(0,N._)(this,y,K).call(this):this.updateResult(),(0,N._)(this,m,Z).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return j((0,M._)(this,r),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return j((0,M._)(this,r),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,N._)(this,C,G).call(this),(0,N._)(this,O,J).call(this),(0,M._)(this,r).removeObserver(this)}setOptions(t,e){let s=this.options,i=(0,M._)(this,r);if(this.options=(0,M._)(this,a).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,D.Nc)(this.options.enabled,(0,M._)(this,r)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,N._)(this,S,X).call(this),(0,M._)(this,r).setOptions(this.options),s._defaulted&&!(0,D.VS)(this.options,s)&&(0,M._)(this,a).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,M._)(this,r),observer:this});let n=this.hasListeners();n&&A((0,M._)(this,r),i,this.options,s)&&(0,N._)(this,y,K).call(this),this.updateResult(e),n&&((0,M._)(this,r)!==i||(0,D.Nc)(this.options.enabled,(0,M._)(this,r))!==(0,D.Nc)(s.enabled,(0,M._)(this,r))||(0,D.KC)(this.options.staleTime,(0,M._)(this,r))!==(0,D.KC)(s.staleTime,(0,M._)(this,r)))&&(0,N._)(this,R,V).call(this);let h=(0,N._)(this,g,z).call(this);n&&((0,M._)(this,r)!==i||(0,D.Nc)(this.options.enabled,(0,M._)(this,r))!==(0,D.Nc)(s.enabled,(0,M._)(this,r))||h!==(0,M._)(this,b))&&(0,N._)(this,k,B).call(this,h)}getOptimisticResult(t){let e=(0,M._)(this,a).getQueryCache().build((0,M._)(this,a),t),s=this.createResult(e,t);return(0,D.VS)(this.getCurrentResult(),s)||((0,x._)(this,h,s),(0,x._)(this,l,this.options),(0,x._)(this,o,(0,M._)(this,r).state)),s}getCurrentResult(){return(0,M._)(this,h)}trackResult(t,e){let s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null==e||e(i),t[i])})}),s}trackProp(t){(0,M._)(this,w).add(t)}getCurrentQuery(){return(0,M._)(this,r)}refetch(){let{...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t})}fetchOptimistic(t){let e=(0,M._)(this,a).defaultQueryOptions(t),s=(0,M._)(this,a).getQueryCache().build((0,M._)(this,a),e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){var e;return(0,N._)(this,y,K).call(this,{...t,cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e}).then(()=>(this.updateResult(),(0,M._)(this,h)))}createResult(t,e){let s;let i=(0,M._)(this,r),a=this.options,f=(0,M._)(this,h),v=(0,M._)(this,o),b=(0,M._)(this,l),w=t!==i?t.state:(0,M._)(this,n),{state:y}=t,R={...y},g=!1;if(e._optimisticResults){let s=this.hasListeners(),r=!s&&L(t,e),n=s&&A(t,i,e,a);(r||n)&&(R={...R,...(0,T.z)(y.data,t.options)}),"isRestoring"===e._optimisticResults&&(R.fetchStatus="idle")}let{error:k,errorUpdatedAt:m,status:C}=R;if(e.select&&void 0!==R.data){if(f&&R.data===(null==v?void 0:v.data)&&e.select===(0,M._)(this,d))s=(0,M._)(this,_);else try{(0,x._)(this,d,e.select),s=e.select(R.data),s=(0,D.oE)(null==f?void 0:f.data,s,e),(0,x._)(this,_,s),(0,x._)(this,c,null)}catch(t){(0,x._)(this,c,t)}}else s=R.data;if(void 0!==e.placeholderData&&void 0===s&&"pending"===C){let t;if((null==f?void 0:f.isPlaceholderData)&&e.placeholderData===(null==b?void 0:b.placeholderData))t=f.data;else{var O;if(t="function"==typeof e.placeholderData?e.placeholderData(null===(O=(0,M._)(this,p))||void 0===O?void 0:O.state.data,(0,M._)(this,p)):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),(0,x._)(this,c,null)}catch(t){(0,x._)(this,c,t)}}void 0!==t&&(C="success",s=(0,D.oE)(null==f?void 0:f.data,t,e),g=!0)}(0,M._)(this,c)&&(k=(0,M._)(this,c),s=(0,M._)(this,_),m=Date.now(),C="error");let S="fetching"===R.fetchStatus,W="pending"===C,E="error"===C,N=W&&S,Q=void 0!==s,U={status:C,fetchStatus:R.fetchStatus,isPending:W,isSuccess:"success"===C,isError:E,isInitialLoading:N,isLoading:N,data:s,dataUpdatedAt:R.dataUpdatedAt,error:k,errorUpdatedAt:m,failureCount:R.fetchFailureCount,failureReason:R.fetchFailureReason,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>w.dataUpdateCount||R.errorUpdateCount>w.errorUpdateCount,isFetching:S,isRefetching:S&&!W,isLoadingError:E&&!Q,isPaused:"paused"===R.fetchStatus,isPlaceholderData:g,isRefetchError:E&&Q,isStale:H(t,e),refetch:this.refetch,promise:(0,M._)(this,u)};if(this.options.experimental_prefetchInRender){let e=t=>{"error"===U.status?t.reject(U.error):void 0!==U.data&&t.resolve(U.data)},s=()=>{e((0,x._)(this,u,U.promise=(0,q.O)()))},a=(0,M._)(this,u);switch(a.status){case"pending":t.queryHash===i.queryHash&&e(a);break;case"fulfilled":("error"===U.status||U.data!==a.value)&&s();break;case"rejected":("error"!==U.status||U.error!==a.reason)&&s()}}return U}updateResult(t){let e=(0,M._)(this,h),s=this.createResult((0,M._)(this,r),this.options);if((0,x._)(this,o,(0,M._)(this,r).state),(0,x._)(this,l,this.options),void 0!==(0,M._)(this,o).data&&(0,x._)(this,p,(0,M._)(this,r)),(0,D.VS)(s,e))return;(0,x._)(this,h,s);let i={};(null==t?void 0:t.listeners)!==!1&&(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,M._)(this,w).size)return!0;let i=new Set(null!=s?s:(0,M._)(this,w));return this.options.throwOnError&&i.add("error"),Object.keys((0,M._)(this,h)).some(t=>(0,M._)(this,h)[t]!==e[t]&&i.has(t))})()&&(i.listeners=!0),(0,N._)(this,W,Y).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,N._)(this,m,Z).call(this)}constructor(t,e){super(),(0,Q._)(this,y),(0,Q._)(this,R),(0,Q._)(this,g),(0,Q._)(this,k),(0,Q._)(this,m),(0,Q._)(this,C),(0,Q._)(this,O),(0,Q._)(this,S),(0,Q._)(this,W),(0,E._)(this,a,{writable:!0,value:void 0}),(0,E._)(this,r,{writable:!0,value:void 0}),(0,E._)(this,n,{writable:!0,value:void 0}),(0,E._)(this,h,{writable:!0,value:void 0}),(0,E._)(this,o,{writable:!0,value:void 0}),(0,E._)(this,l,{writable:!0,value:void 0}),(0,E._)(this,u,{writable:!0,value:void 0}),(0,E._)(this,c,{writable:!0,value:void 0}),(0,E._)(this,d,{writable:!0,value:void 0}),(0,E._)(this,_,{writable:!0,value:void 0}),(0,E._)(this,p,{writable:!0,value:void 0}),(0,E._)(this,f,{writable:!0,value:void 0}),(0,E._)(this,v,{writable:!0,value:void 0}),(0,E._)(this,b,{writable:!0,value:void 0}),(0,E._)(this,w,{writable:!0,value:void 0}),(0,x._)(this,r,void 0),(0,x._)(this,n,void 0),(0,x._)(this,h,void 0),(0,x._)(this,w,new Set),this.options=e,(0,x._)(this,a,t),(0,x._)(this,c,null),(0,x._)(this,u,(0,q.O)()),this.options.experimental_prefetchInRender||(0,M._)(this,u).reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}});function L(t,e){return!1!==(0,D.Nc)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)||void 0!==t.state.data&&j(t,e,e.refetchOnMount)}function j(t,e,s){if(!1!==(0,D.Nc)(e.enabled,t)){let i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&H(t,e)}return!1}function A(t,e,s,i){return(t!==e||!1===(0,D.Nc)(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&H(t,s)}function H(t,e){return!1!==(0,D.Nc)(e.enabled,t)&&t.isStaleByTime((0,D.KC)(e.staleTime,t))}function K(t){(0,N._)(this,S,X).call(this);let e=(0,M._)(this,r).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(e=e.catch(D.ZT)),e}function V(){(0,N._)(this,C,G).call(this);let t=(0,D.KC)(this.options.staleTime,(0,M._)(this,r));if(D.sk||(0,M._)(this,h).isStale||!(0,D.PN)(t))return;let e=(0,D.Kp)((0,M._)(this,h).dataUpdatedAt,t);(0,x._)(this,f,setTimeout(()=>{(0,M._)(this,h).isStale||this.updateResult()},e+1))}function z(){var t;return null!==(t="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,M._)(this,r)):this.options.refetchInterval)&&void 0!==t&&t}function B(t){(0,N._)(this,O,J).call(this),(0,x._)(this,b,t),!D.sk&&!1!==(0,D.Nc)(this.options.enabled,(0,M._)(this,r))&&(0,D.PN)((0,M._)(this,b))&&0!==(0,M._)(this,b)&&(0,x._)(this,v,setInterval(()=>{(this.options.refetchIntervalInBackground||U.j.isFocused())&&(0,N._)(this,y,K).call(this)},(0,M._)(this,b)))}function Z(){(0,N._)(this,R,V).call(this),(0,N._)(this,k,B).call(this,(0,N._)(this,g,z).call(this))}function G(){(0,M._)(this,f)&&(clearTimeout((0,M._)(this,f)),(0,x._)(this,f,void 0))}function J(){(0,M._)(this,v)&&(clearInterval((0,M._)(this,v)),(0,x._)(this,v,void 0))}function X(){let t=(0,M._)(this,a).getQueryCache().build((0,M._)(this,a),this.options);if(t===(0,M._)(this,r))return;let e=(0,M._)(this,r);(0,x._)(this,r,t),(0,x._)(this,n,t.state),this.hasListeners()&&(null==e||e.removeObserver(this),t.addObserver(this))}function Y(t){I.V.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t((0,M._)(this,h))}),(0,M._)(this,a).getQueryCache().notify({query:(0,M._)(this,r),type:"observerResultsUpdated"})})}var $=s(4090),tt=s(7082);s(3827);var te=$.createContext((i=!1,{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i})),ts=()=>$.useContext(te);function ti(){}var ta=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&!e.isReset()&&(t.retryOnMount=!1)},tr=t=>{$.useEffect(()=>{t.clearReset()},[t])},tn=t=>{var e;let{result:s,errorResetBoundary:i,throwOnError:a,query:r,suspense:n}=t;return s.isError&&!i.isReset()&&!s.isFetching&&r&&(n&&void 0===s.data||(e=[s.error,r],"function"==typeof a?a(...e):!!a))},th=$.createContext(!1),to=()=>$.useContext(th);th.Provider;var tl=t=>{let e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return Math.max(e(...s),1e3)}:Math.max(null!=e?e:1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))},tu=(t,e)=>t.isLoading&&t.isFetching&&!e,tc=(t,e)=>(null==t?void 0:t.suspense)&&e.isPending,td=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function t_(t,e){return function(t,e,s){var i,a,r,n,h;let o=(0,tt.NL)(s),l=to(),u=ts(),c=o.defaultQueryOptions(t);null===(a=o.getDefaultOptions().queries)||void 0===a||null===(i=a._experimental_beforeQuery)||void 0===i||i.call(a,c),c._optimisticResults=l?"isRestoring":"optimistic",tl(c),ta(c,u),tr(u);let d=!o.getQueryCache().get(c.queryHash),[_]=$.useState(()=>new e(o,c)),p=_.getOptimisticResult(c),f=!l&&!1!==t.subscribed;if($.useSyncExternalStore($.useCallback(t=>{let e=f?_.subscribe(I.V.batchCalls(t)):ti;return _.updateResult(),e},[_,f]),()=>_.getCurrentResult(),()=>_.getCurrentResult()),$.useEffect(()=>{_.setOptions(c,{listeners:!1})},[c,_]),tc(c,p))throw td(c,_,u);if(tn({result:p,errorResetBoundary:u,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if(null===(n=o.getDefaultOptions().queries)||void 0===n||null===(r=n._experimental_afterQuery)||void 0===r||r.call(n,c,p),c.experimental_prefetchInRender&&!D.sk&&tu(p,l)){let t=d?td(c,_,u):null===(h=o.getQueryCache().get(c.queryHash))||void 0===h?void 0:h.promise;null==t||t.catch(ti).finally(()=>{_.updateResult()})}return c.notifyOnChangeProps?p:_.trackResult(p)}(t,P,e)}}}]);